#include<errno.h>
#include<string.h>
#include<stdlib.h>
#include<fcntl.h>
#include<unistd.h>
int main()
{
    char buf[10];
    int flags;
    int i;
    flags=fcntl(STDIN_FILENO,F_GETFL);
    flags|=O_NONBLOCK;
    fcntl(STDIN_FILENO,F_SETFL,flags);
    i=read(STDIN_FILENO,buf,10);
    if(i==-1)
    {
        if(errno==EAGAIN)
        {
            perror("O_NONBLOCK");
        }
    }
    return 0;
}

